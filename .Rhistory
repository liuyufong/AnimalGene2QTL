source('D:/D/R_program/R/getAnimalQTL.r')
debugSource('D:/D/R_program/R/getAnimalQTL.r')
gene_symbol <-read.csv("example_1.csv", header = T)
setwd("D:/D/R_program")
gene_symbol <-read.csv("example_1.csv", header = T)
gene_symbol <-'MED13L'
getAnimalQTL(c("QTL_ID","trait","Chromosome"), "external_gene_name", gene_symbol, 2)
library(RSQLite)
library(biomaRt)
getAnimalQTL(c("QTL_ID","trait","Chromosome"), "external_gene_name", gene_symbol, 2)
getAnimalQTL(c("QTL_ID","trait","Chromosome"), "external_gene_name", gene_symbol, 2)
debugSource('D:/D/R_program/R/getAnimalQTL.r')
getAnimalQTL(c("QTL_ID","trait","Chromosome"), "external_gene_name", gene_symbol, 2)
View(chromchr)
View(result)
getAnimalQTL(c("QTL_ID","trait","Chromosome"), "external_gene_name", gene_symbol, 2)
getAnimalQTL(c("QTL_ID","trait","Chromosome"), "external_gene_name", gene_symbol, 2)
getAnimalQTL(c("QTL_ID","trait","Chromosome"), "external_gene_name", gene_symbol, 2)
View(single_QTL2)
View(chromchr)
debugSource('D:/D/R_program/R/getAnimalQTL.r')
source('D:/D/R_program/R/getAnimalQTL.r')
getAnimalQTL(c("QTL_ID","trait","Chromosome"), "external_gene_name", gene_symbol, 2)
gene_symbol <-read.csv("example_1.csv", header = T)
getAnimalQTL(c("QTL_ID","trait","Chromosome"), "external_gene_name", gene_symbol, 2)->example1_QTL
getAnimalQTL(c("QTL_ID","trait","Chromosome"), "external_gene_name", gene_symbol, 2)
gene_symbol <-'MED13L'
getAnimalQTL(c("QTL_ID","trait"), "external_gene_name", gene_symbol, 2)
getAnimalQTL(c("QTL_ID","trait"), "external_gene_name", "FAM114A1", 2)
read.csv('d:/d:/R_program/shiyan.csv',header = T)
read.csv('d:/d/R_program/shiyan.csv',header = T)
read.csv('d:/d/R_program/shiyan.csv',header = T)->x
ncol(x)
x[+1]<-'bp'
x
x[3]<-'bp'
x
read.csv('d:/d/R_program/shiyan.csv',header = T)->x
read.csv('d:/d/R_program/shiyan.csv',header = T)->x
read.csv('d:/d/R_program/gene_QTL.csv',header = T)->y
z<-merge(x,y,all = T)
View(z)
View(x)
z<-merge(x,y,by = 'ensembl_gene_id')
View(z)
nrow(x)
library(biomaRt)
x[1]
x[,1]
x[1,]
read.csv('d:/d/R_program/shiyan.csv',header = T)->x
x[1]
x[,1]
x[1,]
colnames(x)
ensembl <- useMart("ensembl", dataset = "ggallus_gene_ensembl")
ressss<-list()
system.time(for (i in 1:nrow(x)){
y<-getBM(attributes=c('chromosome_name',
'start_position',
'end_position'),
filters=colnames(x),
values=x[i,],
mart=ensembl);
ressss<-rbind(ressss,y);
})
system.time(res<-getBM(attributes=c('chromosome_name',
'start_position',
'end_position'),
filters=colnames(x),
values=x,
mart=ensembl);)
system.time(res<-getBM(attributes=c('chromosome_name',
'start_position',
'end_position'),
filters=colnames(x),
values=x,
mart=ensembl))
read.csv('d:/d/R_program/shiyan.csv',header = T)->x
ensembl <- useMart("ensembl", dataset = "ggallus_gene_ensembl")
system.time(res<-getBM(attributes=c('chromosome_name',
'start_position',
'end_position'),
filters=colnames(x),
values=list(x[1,],x[2,]),
mart=ensembl))
View(res)
system.time(res<-getBM(attributes=c('chromosome_name',
'start_position',
'end_position'),
filters=colnames(x),
values=list(x[1,],x[2,],x[3,]),
mart=ensembl))
View(res)
system.time(res<-getBM(attributes=c('chromosome_name',
'start_position',
'end_position'),
filters=colnames(x),
values=c(x[1,],x[2,],x[3,]),
mart=ensembl))
View(res)
system.time(res<-getBM(attributes=c('chromosome_name',
'start_position',
'end_position'),
filters=colnames(x),
values=c('ENSBTAG00000009851','ENSBTAG00000005101',
'ENSBTAG00000036262'),
mart=ensembl))
View(res)
gene_values <- c('ENSBTAG00000009851','ENSBTAG00000005101',
'ENSBTAG00000036262')
system.time(res<-getBM(attributes=c('chromosome_name',
'start_position',
'end_position'),
filters=colnames(x),
values=gene_values,
mart=ensembl))
View(res)
ensembl <- useMart("ensembl", dataset = "btaurus_gene_ensembl")
system.time(res<-getBM(attributes=c('chromosome_name',
'start_position',
'end_position'),
filters=colnames(x),
values=gene_values,
mart=ensembl))
View(res)
system.time(res<-getBM(attributes=c('chromosome_name',
'start_position',
'end_position'),
filters=colnames(x),
values=c('ENSBTAG00000009851','ENSBTAG00000005101',
'ENSBTAG00000036262'),
mart=ensembl))
View(res)
gene_filters <- c('ensembl_gene_id')
attributes=c(gene_filters,
'chromosome_name',
'start_position',
'end_position')
attributes
gflength <- length(gene_filters);
View(x)
View(res)
singlebp<-'123'
res[ncol(res)+1]<-singlebp
View(res)
singlebp1<-'234'
x1<-rbind(singlebp,singlebp1)
View(x1)
View(res)
x1<-rbind(x1,singlebp1)
rbind(res,x1)
data.frame(res,x1)
View(res)
data.frame(res,x1[,1])
res[ncol(res)+1]<-x1
View(res)
res[1:ncol(res)]<-"NA"
View(res)
nrow(res)
nrow(res)<-0
sss<-list()
nrow(sss)
colnames(sss)<-c('1','2','3')
gflength<-3
View(res)
res[ncol(res)+1:ncol(res)+ncol(res)]<-res
res[(ncol(res)+1):(ncol(res)+ncol(res))]<-res
View(res)
ncol(res)
View(res)
ress<-res
ress<-NULL
ress<-res
ress[1:3,]<-NULL
ress[1:3,]<-'NA'
View(res)
View(ress)
ress[-1:-3,]
ress[-1:-3,]->ress
colnames(ress)
ress[1:ncol(ress)]<-'NA'
ncol()
ncol(ress)
ress[1:ncol(ress)]<-"NA"
ress[1,]<-"NA"
View(ress)
View(ress)
View(x)
View(x1)
x1[2]<-x1
View(res)
View(ress)
View(res)
View(ress)
View(res)
View(x1)
View(res)
ress[,-6:-10]->ress
View(ress)
View(res)
res[,-6:-10]->res
View(res)
View(ress)
View(res)
View(ress)
ress[-1,]->ress
View(ress)
rbind(res,ress)
View(res)
View(ress)
View(ress)
View(ress)
View(res)
View(x1)
View(res)
res[(ncol(x1)+1):(ncol(res)+ncol(x1))]<-res
res[1:ncol(x1)]<-x1
View(res)
source('D:/D/R_program/AnimalGene2QTL/R/gai.R')
getAnimalQTL(c('QTL_ID','Trait','QTL_Name'),gene_filters = 'ensembl_gene_id',gene_values = x,data_set = 2)->rr
library(RSQLite)
getAnimalQTL(c('QTL_ID','Trait','QTL_Name'),gene_filters = 'ensembl_gene_id',gene_values = x,data_set = 2)->rr
debugSource('D:/D/R_program/AnimalGene2QTL/R/gai.R')
library(AnimalGene2QTL)
library(AnimalGene2QTL)
geneid <- c("ENSBTAG00000009851", "ENSBTAG00000005101", "ENSBTAG00000036262")
qtl <- getAnimalQTL(qtl_attributes=c('QTL_ID'), gene_filters='ensembl_gene_id',gene_values=geneid,data_set=1)
head(qtl)
listQTL()
clearPushBack()
flush.console()
flush()
gene<-read.csv('target_gene.csv',header = T)
library(biomaRt)
snp_mart<-useMart("ENSEMBL_MART_SNP", dataset = "ggallus_snp");
listFilters(snp_mart)->ff
View(ff)
qtlid<-c("4097","4101","14604");
typeof(qtlid)
t(t(qtlid))->qtlid
qtlid
as.data.frame(qtlid)->qtlid
qtlid
NCOL(qtlid)
library(biomaRt)
snp_mart<-useMart("ENSEMBL_MART_SNP", dataset = "ggallus_snp");
listAttributes(snp_mart)->tt
View(tt)
tt1<-tt
tt1[NCOL(tt1)+1]<-"111"
View(tt1)
sss<-read.csv("1.csv",header = T)
eee<-read.csv("2.csv",header = T)
se<-merge(sss,eee,all = T)
View(se)
View(eee)
View(sss)
View(se)
View(eee)
View(se)
sss<-read.csv("1.csv",header = T)
eee<-read.csv("2.csv",header = T)
se<-merge(sss,eee,all = T)
View(se)
View(se)
View(sss)
View(se)
se<-merge(eee,sss,all = T)
View(se)
se[which(se[,3]=='e')]
which(se[,3]=='e')
se[which(se[,3]=='e'),3]
which(se[,2]=='2')
which(se[,2]=='2')->aaa
aaa[1]
aaa[2]
which(se[,2]=='6')->aaa
eee2<-read.csv("2.csv",header = T)
which(eee2[,3]=='NA')->aaa1
View(eee2)
eee2<-read.csv("2.csv",header = T)
which(eee2[,3]=='NA')->aaa1
View(eee2)
which(is.na(eee2[,3]))
library(AnimalGene2QTL)
source('D:/D/R_program/AnimalGene2QTL/R/getAnimalQTL.r')
gene_filters <- c('ensembl_gene_id')
gene_values <- c('ENSBTAG00000009851'
)
debugSource('D:/D/R_program/AnimalGene2QTL/R/getAnimalQTL.r')
library(BiocCheck)
BiocCheck("AnimalGene2QTL")
BiocCheck()
library(devtools)
load_all()
load_all("AnimalGene2QTL")
load_all()
library(devtools)
library(roxygen2)
install.packages(stringi)
install.packages("C:/Users/lephya/Desktop/stringi_1.1.5.tar.gz", repos = NULL, type = "source")
library(roxygen2)
install.packages(roxygen2)
install.packages("roxygen2")
library(roxygen2)
load_all()
check()
load_all()
document()
check()
library(BiocCheck)
BiocCheck()
BiocCheck("AnimalGene2QTL")
if("ggallus_gene_ensembl" == "ggallus_gene_ensembl"){
ensembl<-useEnsembl("ensembl",version = 85);
message("The version of chicken QTL is 4.0,and the
version of gene is 4.0!");
}else{
ensembl<-useEnsembl("ensembl");
}
library(biomaRt)
if("ggallus_gene_ensembl" == "ggallus_gene_ensembl"){
ensembl<-useEnsembl("ensembl",version = 85);
message("The version of chicken QTL is 4.0,and the
version of gene is 4.0!");
}else{
ensembl<-useEnsembl("ensembl");
}
if(genedataset == "ggallus_gene_ensembl"){
ensembl<-useEnsembl("ensembl",version = 85);
message("The version of chicken QTL is 4.0,and the
version of gene is 4.0!");
}else{
ensembl<-useEnsembl("ensembl");
}
martlist<-listMarts(ensembl);
mart <- useMart(martlist[1,1], dataset = genedataset);
for(i in 1:qtlrow){
}
ensembl<-useEnsembl("ensembl",version = 85)
listm<-listMarts(ensembl)
listDatasets(listm[2,1])->dalist
listDatasets(mart = listm[2,1])->dalist
listDatasets(ensembl)->dalist
View(listm)
View(dalist)
View(listm)
mart<-useMart(listm[2,1])
listDatasets(mart)->dalist
View(dalist)
ensembl<-useEnsembl("ensembl",version = 78)
mart<-useMart(listMarts(ensembl)[2,1],dataset = 'ggallus_snp')
listDatasets(mart = mart)->dalist
View(dalist)
listMarts(ensembl)[2,1]
listMarts(ensembl)[2,2]
ensembl<-useEnsembl("ensembl",GRCh = 37)
listMarts(ensembl)
listDatasets(ensembl)->dalist
View(dalist)
useMart(listMarts(ensembl)[2,1])->mart
listDatasets(mart)
listDatasets(mart)->dalist
View(dalist)
ensembl<-useEnsembl("ensembl",version = 85);
martlist<-listMarts(ensembl);
View(martlist)
View(martlist)
View(dalist)
snp_mart <- useMart(martlist[2,1],
dataset = snpdataset,  host="grch37.ensembl.org");
snp_mart <- useMart(martlist[2,1],
dataset = "ggallus_snp",  host="grch37.ensembl.org");
listDatasets(snp_mart)->dalist
View(dalist)
mart <- useMart(martlist[1,1], dataset = genedataset,,  host="grch37.ensembl.org");
mart <- useMart(martlist[1,1], host="grch37.ensembl.org");
listFilters(mart)->mmmart
mart <- useMart(martlist[1,1], dataset = "ggallus_gene_ensembl", host="grch37.ensembl.org");
listFilters(mart)->mmmart
View(mmmart)
View(mmmart)
mart <- useMart(martlist[1,1], dataset = "ggallus_gene_ensembl");
listFilters(mart)->mmmart
View(mmmart)
listAttributes(mart)->mmmart
View(mmmart)
mart <- useMart(martlist[1,1], dataset = "ggallus_gene_ensembl", host="grch37.ensembl.org");
listDatasets(mart)->dalist
View(dalist)
ensembl<-useEnsembl("ensembl",version = 85);
ensembl<-useEnsembl("ensembl",host="grch37.ensembl.org");
listMarts(ensembl)
View(martlist)
listMarts(host="grch37.ensembl.org")
host<-"grch38.ensembl.org";
mart <- useMart(martlist[2,1], dataset = snpdataset
, host=host);
mart <- useMart(martlist[2,1], dataset = 'ggallus_snp'
, host=host);
mart <- useMart(martlist[2,1], dataset = 'ggallus_snp'
, host=NULL);
host<-"www.ensembl.org";
mart <- useMart(martlist[2,1], dataset = 'ggallus_snp'
, host=host);
listDatasets(mart)->dalist
View(dalist)
host<-"grch37.ensembl.org";
mart <- useMart(martlist[2,1], dataset = 'ggallus_snp'
, host=host);
listDatasets(mart)->dalist
View(dalist)
library(formatR)
tidy_dir("R")
tidy_dir("R")
dd<-read.csv("example_1.csv",header = T)
View(dd)
dd[,seq_len(10)]
dd[seq_len(10),]
dd[seq_len(2),]
seq_len(1+1+1)
tidy_dir("R")
tidy_dir("R")
tidy_dir("R")
tidy_dir("R")
